<div *ngIf="!isLoading" class="articles-container">
  <button mat-raised-button color="primary" (click)="openAddArticle()" class="btn">Add</button>

  <div class="scrollable-container">
    <div *ngIf="articles.length > 0" class="articles-grid">
      <div *ngFor="let article of articles" class="article-card" (click)="selectArticle(article)">
        <div class="card-actions">
          <button mat-icon-button class="btnaction">
            <i class="fa-solid fa-pen-to-square" (click)="updateArticle(article); $event.stopPropagation()"></i>
          </button>
          <button mat-icon-button class="btnaction">
            <i class="fa-solid fa-trash" (click)="deleteArticle(article.id!); $event.stopPropagation()"></i>
          </button>
          
        </div>
        <div class="article-image-wrapper">
          <img *ngIf="article.image.length > 0" [src]="article.image" alt="Image de l'article" class="article-image" />
        </div>
        <div class="article-content">
          <h3>{{ article.titre }}</h3>
          <p>{{ article.contenu | slice: 0:100 }}...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isLoading" class="loading">
  <mat-spinner></mat-spinner>
</div>
